<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What the Package Does (Title Case) • squire</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (Title Case)">
<meta property="og:description" content="More about what it does (maybe more than one line)
    Use four spaces when indenting paragraphs within the Description.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">squire</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mrc-ide/squire">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="squire" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#squire" class="anchor"></a>squire</h1></div>
<!-- badges: start -->

<p>squire enables users to simulate models of SARS-CoV-2 epidemics. This is done using an age-structured SEIR model that also explicitly considers healthcare capacity and disease severity.</p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>squire is a package enabling users to quickly and easily generate calibrated estimates of SARS-CoV-2 epidemic trajectories under different control scenarios. It consists of the following:</p>
<ul>
<li>An age-structured SEIR model incorporating explicit passage through healthcare settings and explicit progression through disease severity stages.</li>
<li>The ability to calibrate the model to different epidemic start-dates based on available death data.</li>
<li>Simulate the impacts of different control interventions (including general social distancing, specific shielding of elderly populations, and more stringent suppression strategies).</li>
</ul>
<p>If you are new to squire, the best place to start is below, where we detail how to install the package, how to set up the model, and how to run it with and without control interventions.</p>
</div>
<div id="model-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#model-structure" class="anchor"></a>Model Structure</h2>
<div id="overall-structure" class="section level3">
<h3 class="hasAnchor">
<a href="#overall-structure" class="anchor"></a>Overall Structure</h3>
<p><img src="https://raw.githubusercontent.com/mrc-ide/squire/healthcare_capacity/images/Explicit_Healthcare_Model_Structure.JPG" align="center" style="border: none; float: center;" width="600px"></p>
<p>squire uses an age-structured SEIR model, with the infectious class divided into different stages reflecting progression through different disese severity pathways. These compartments are:<br>
* S = Susceptibles<br>
* E = Exposed (Latent Infection)<br>
* I<sub>Mild</sub> = Mild Infections (Not Requiring Hospitalisation)<br>
* I<sub>Case</sub> = Infections Requiring Hospitalisation<br>
* I<sub>Hospital</sub> = Hospitalised (Requires Hospital Bed)<br>
* I<sub>ICU</sub> = ICU (Requires ICU Bed)<br>
* I<sub>Rec</sub> = Recovering from ICU Stay (Requires Hospital Bed)<br>
* R = Recovered<br>
* D = Dead</p>
</div>
<div id="decision-trees-for-healthcare-capacity" class="section level3">
<h3 class="hasAnchor">
<a href="#decision-trees-for-healthcare-capacity" class="anchor"></a>Decision Trees for Healthcare Capacity</h3>
<p><img src="https://raw.githubusercontent.com/mrc-ide/squire/healthcare_capacity/images/Explicit_Healthcare_Oxygen_Decision_Tree.JPG" align="center" style="border: none; float: center;" width="400px"></p>
<p>Given initial inputs of hospital/ICU bed capacity and the average time cases spend in hospital, the model dynamically tracks available hospital and ICU beds over time.</p>
<p>Individuals newly requiring hospitalisation (either a hospital or ICU bed) are then assigned to either receive care (if the relevant bed is available) or not (if maximum capacity would be exceeded otherwise). Whether or not an individual receives the required care modifies their probability of dying.</p>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><i>squire</i> utilises the package <a href="https://github.com/mrc-ide/odin">ODIN</a> to generate the model. <a href="https://github.com/mrc-ide/odin">ODIN</a> implements a high-level language for implementing mathematical models and can be installed by running the following command:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"odin"</span>)</pre></div>
<p>The model generated using ODIN is written in C and so you will require a compiler to install dependencies for the package and to build any models with ODIN. Windows users should install <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>. See the relevant section in <a href="https://cran.r-project.org/doc/manuals/r-release/R-admin.html#The-Windows-toolset">R-admin</a> for advice. Be sure to select the âedit PATHâ checkbox during installation or the tools will not be found.</p>
<p>The function <code><a href="https://rdrr.io/pkg/odin/man/can_compile.html">odin::can_compile()</a></code> will check if it is able to compile things, but by the time you install the package that will probably have been satisfied.</p>
<p>After installation of ODIN, ensure you have the devtools package installed by running the following:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)</pre></div>
<p>Then install the <i>squire</i> package directly from GitHub by running:</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu">install_github</span>(<span class="st">"mrc-ide/squire"</span>)</pre></div>
<p>If you have any problems installing then please raise an issue on the <i>squire</i> <a href="https://github.com/mrc-ide/squire/issues"><code>GitHub</code></a>.</p>
<p>If everything has installed correctly, we then need to load the package:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">squire</span>)</pre></div>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting Started</h2>
<div id="running-the-model-unmitigated" class="section level3">
<h3 class="hasAnchor">
<a href="#running-the-model-unmitigated" class="anchor"></a>Running the Model (Unmitigated)</h3>
<ol>
<li>Running the model using baseline parameters and no control interventions</li>
</ol>
<p>The full model is referred to as the <strong>explicit_SEEIR</strong> model, with hospital pathways explicltly exploring whether individuals will require a general hospital bed providing oxygen or an ICU bed that provides ventilation.</p>
<p>To run the model we need to provide at least one of the following arguments:</p>
<ul>
<li><code>country</code></li>
<li>
<code>population</code> and <code>baseline_contact_matrix</code>
</li>
</ul>
<p>If the <code>country</code> is provided, the <code>population</code> and <code>baseline_contact_matrix</code> will be generated (if not also specified) using the demographics and matrices specified in the <a href="https://www.imperial.ac.uk/mrc-global-infectious-disease-analysis/covid-19/report-12-global-impact-covid-19/">global report</a>.</p>
<p>To run the model by providing the <code>country</code> we use <code><a href="reference/run_explicit_SEEIR_model.html">run_explicit_SEEIR_model()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="no">r</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/run_explicit_SEEIR_model.html">run_explicit_SEEIR_model</a></span>(<span class="kw">country</span> <span class="kw">=</span> <span class="st">"Afghanistan"</span>)</pre></div>
<p>The returned object is a <code>squire_simulation</code> object, which is a list of two ojects:</p>
<ul>
<li>
<code>output</code> - model output</li>
<li>
<code>parameters</code> - model parameters</li>
</ul>
<p><code>squire_simulation</code> objects can be plotted as follows:</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">r</span>)</pre></div>
<p><img src="reference/figures/README-base%20plot-1.png" width="100%"> This plot will plot each of the compartments of the model output.</p>
<ol>
<li>Changing parameters in the model.</li>
</ol>
<p>The model has a number of parameters for setting the R0, demography, contact matrices, the durations of each compartment and the health care outcomes and healthcare availability. In addition, the initial state of the population can be changed as well as simulation parameters, such as the number of replicates, length of simulation and the timestep. For a full list of model inputs, please see the function <a href="https://mrc-ide.github.io/squire/reference/run_explicit_SEEIR_model.html">documentation</a></p>
<p>For example, changing the initial R0 (default = 3), number of replicates ( default = 10), simualtion length (default = 365 days) and time step (default = 0.25 days), as well as setting the population and contact matrix manually:</p>
<div class="sourceCode" id="cb7"><pre class="r">
<span class="co"># Get the population</span>
<span class="no">pop</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/get_population.html">get_population</a></span>(<span class="st">"United Kingdom"</span>)
<span class="no">population</span> <span class="kw">&lt;-</span> <span class="no">pop</span>$<span class="no">n</span>

<span class="co"># Get the mixing matrix</span>
<span class="no">contact_matrix</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/get_mixing_matrix.html">get_mixing_matrix</a></span>(<span class="st">"United Kingdom"</span>)

<span class="co"># run the model</span>
<span class="no">r</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/run_explicit_SEEIR_model.html">run_explicit_SEEIR_model</a></span>(<span class="kw">population</span> <span class="kw">=</span> <span class="no">population</span>,
                              <span class="kw">baseline_contact_matrix</span> <span class="kw">=</span> <span class="no">contact_matrix</span>,
                              <span class="kw">R0</span> <span class="kw">=</span> <span class="fl">2.5</span>,
                              <span class="kw">time_period</span> <span class="kw">=</span> <span class="fl">200</span>,
                              <span class="kw">dt</span> <span class="kw">=</span> <span class="fl">1</span>,
                              <span class="kw">replicates</span> <span class="kw">=</span> <span class="fl">5</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">r</span>)</pre></div>
<p><img src="reference/figures/README-set%20params-1.png" width="100%"></p>
<p>We can also change the R0 and contact matrix at set time points, to reflect changing behaviour resulting from interventions. For example to set a 80% reduction in the contact matrix after 50 days :</p>
<div class="sourceCode" id="cb8"><pre class="r">
<span class="co"># run the model</span>
<span class="no">r</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/run_explicit_SEEIR_model.html">run_explicit_SEEIR_model</a></span>(<span class="kw">population</span> <span class="kw">=</span> <span class="no">population</span>,
                              <span class="kw">baseline_contact_matrix</span> <span class="kw">=</span> <span class="no">contact_matrix</span>,
                              <span class="kw">tt_contact_matrix</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">50</span>),
                              <span class="kw">contact_matrix_set</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">contact_matrix</span>,
                                                        <span class="no">contact_matrix</span>*<span class="fl">0.2</span>),
                              <span class="kw">R0</span> <span class="kw">=</span> <span class="fl">2.5</span>,
                              <span class="kw">time_period</span> <span class="kw">=</span> <span class="fl">200</span>,
                              <span class="kw">dt</span> <span class="kw">=</span> <span class="fl">1</span>,
                              <span class="kw">replicates</span> <span class="kw">=</span> <span class="fl">5</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">r</span>)</pre></div>
<p><img src="reference/figures/README-set%20contact%20matrix%20decrease-1.png" width="100%"></p>
<p>To show an 80% reduction after 50 days but only maintained for 30 days :</p>
<div class="sourceCode" id="cb9"><pre class="r">
<span class="co"># run the model</span>
<span class="no">r</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/run_explicit_SEEIR_model.html">run_explicit_SEEIR_model</a></span>(<span class="kw">population</span> <span class="kw">=</span> <span class="no">population</span>,
                              <span class="kw">baseline_contact_matrix</span> <span class="kw">=</span> <span class="no">contact_matrix</span>,
                              <span class="kw">tt_contact_matrix</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">50</span>, <span class="fl">80</span>),
                              <span class="kw">contact_matrix_set</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">contact_matrix</span>,
                                                        <span class="no">contact_matrix</span>*<span class="fl">0.2</span>,
                                                        <span class="no">contact_matrix</span>),
                              <span class="kw">R0</span> <span class="kw">=</span> <span class="fl">2.5</span>,
                              <span class="kw">time_period</span> <span class="kw">=</span> <span class="fl">200</span>,
                              <span class="kw">dt</span> <span class="kw">=</span> <span class="fl">1</span>,
                              <span class="kw">replicates</span> <span class="kw">=</span> <span class="fl">5</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">r</span>)</pre></div>
<p><img src="reference/figures/README-set%20contact%20matrix%20decrease%20and%20relax-1.png" width="100%"></p>
<p>Alternatively, we could set a changing R0, which falls below 1 after 50 days:</p>
<div class="sourceCode" id="cb10"><pre class="r">
<span class="co"># run the model</span>
<span class="no">r</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/run_explicit_SEEIR_model.html">run_explicit_SEEIR_model</a></span>(<span class="kw">population</span> <span class="kw">=</span> <span class="no">population</span>,
                              <span class="kw">baseline_contact_matrix</span> <span class="kw">=</span> <span class="no">contact_matrix</span>,
                              <span class="kw">tt_R0</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">50</span>),
                              <span class="kw">R0</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">2.5</span>, <span class="fl">0.9</span>),
                              <span class="kw">time_period</span> <span class="kw">=</span> <span class="fl">200</span>,
                              <span class="kw">dt</span> <span class="kw">=</span> <span class="fl">1</span>,
                              <span class="kw">replicates</span> <span class="kw">=</span> <span class="fl">5</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">r</span>)</pre></div>
<p><img src="reference/figures/README-set%20R0%20decrease-1.png" width="100%"></p>
<ol>
<li>Extracting and Plotting Relevant Outputs</li>
</ol>
<p>Alternative summaries of the models can be created, which give commonly reported measures, such as deaths, number of ICU beds and general hospital beds required.</p>
<div class="sourceCode" id="cb11"><pre class="r">
# Still to do</pre></div>
<p>The number of deaths over time will depend heavily on the available healthcare capacity of a country, with excess mortality occurring when critical care patients, who require mechanical ventilation, are unable to access one due to shortages:</p>
<div class="sourceCode" id="cb12"><pre class="r">
# Still to do</pre></div>
<ol>
<li>Calibrating the Model to Observed Deaths Data</li>
</ol>
<p>The model can be simply calibrated to time series of deaths reported in settings. This can be conducted using the <code>calibrate</code> function, by providing a data frame of date and deaths. For example:</p>
<div class="sourceCode" id="cb13"><pre class="r">
<span class="co"># create dummy data</span>
<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="st">"date"</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>() - <span class="fl">0</span>:<span class="fl">6</span>,
                 <span class="st">"deaths"</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">6</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>))
<span class="no">df</span>
<span class="co">#&gt;         date deaths</span>
<span class="co">#&gt; 1 2020-04-08      6</span>
<span class="co">#&gt; 2 2020-04-07      2</span>
<span class="co">#&gt; 3 2020-04-06      1</span>
<span class="co">#&gt; 4 2020-04-05      1</span>
<span class="co">#&gt; 5 2020-04-04      0</span>
<span class="co">#&gt; 6 2020-04-03      0</span>
<span class="co">#&gt; 7 2020-04-02      0</span></pre></div>
<div class="sourceCode" id="cb14"><pre class="r">
<span class="co"># run caliibrate</span>
<span class="no">out</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/calibrate.html">calibrate</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">df</span>, <span class="kw">country</span> <span class="kw">=</span> <span class="st">"Senegal"</span>, <span class="kw">replicates</span> <span class="kw">=</span> <span class="fl">10</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">out</span>)
<span class="co">#&gt; # A tibble: 6 x 7</span>
<span class="co">#&gt; # Groups:   replicate [1]</span>
<span class="co">#&gt;       t age_group replicate new_time date       name     value</span>
<span class="co">#&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt;</span>
<span class="co">#&gt; 1     1         1         1      -35 2020-03-04 S      2615338</span>
<span class="co">#&gt; 2     1         1         1      -35 2020-03-04 E1           0</span>
<span class="co">#&gt; 3     1         1         1      -35 2020-03-04 E2           0</span>
<span class="co">#&gt; 4     1         1         1      -35 2020-03-04 IMild        1</span>
<span class="co">#&gt; 5     1         1         1      -35 2020-03-04 ICase1       1</span>
<span class="co">#&gt; 6     1         1         1      -35 2020-03-04 ICase2       1</span></pre></div>
<p>Simulation replicates are aligned to the current death total and the outputs of each simulation replicate are returned in long format. To plot the deaths over time up until the next week:</p>
<div class="sourceCode" id="cb15"><pre class="r">
<span class="co"># summarise deaths</span>
<span class="no">deaths</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">out</span>[<span class="no">out</span>$<span class="no">name</span> <span class="kw">==</span> <span class="st">"D"</span>, ],<span class="no">date</span>, <span class="no">replicate</span>)
<span class="no">deaths</span> <span class="kw">&lt;-</span> <span class="kw pkg">dplyr</span><span class="kw ns">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="no">deaths</span>, <span class="kw">value</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">value</span>))
<span class="no">deaths</span> <span class="kw">&lt;-</span> <span class="no">deaths</span>[<span class="no">deaths</span>$<span class="no">date</span> <span class="kw">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>() + <span class="fl">7</span>,]

<span class="co"># plot the deaths</span>
<span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">deaths</span>, <span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">date</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">value</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">replicate</span>)) +
  <span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() +
  <span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span>(<span class="kw">xintercept</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span>()) +
  <span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_hline</a></span>(<span class="kw">yintercept</span> <span class="kw">=</span> <span class="no">df</span>$<span class="no">deaths</span>[<span class="fl">1</span>]) +
  <span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Date"</span>) +
  <span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Cumulative Deaths"</span>)</pre></div>
<p><img src="reference/figures/README-deaths%20over%20time-1.png" width="100%"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Patrick Walker <br><small class="roles"> Author </small>  </li>
<li>Charlie Whittaker <br><small class="roles"> Author </small>  </li>
<li>Peter Winskill <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/mrc-ide/squire"><img src="https://travis-ci.org/mrc-ide/squire.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/mrc-ide/squire"><img src="https://ci.appveyor.com/api/projects/status/github/mrc-ide/squire?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://codecov.io/gh/mrc-ide/squire?branch=master"><img src="https://codecov.io/gh/mrc-ide/squire/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Patrick Walker, Charlie Whittaker, Peter Winskill.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
